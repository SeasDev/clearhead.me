// Basic view sizing
// -----------------
.container {
	min-width: 288px;
	margin: 0 auto;
	max-width: calc(100% - 1.5em);
	width: 50em;
	@include w480 {
		width: 48.5em;
	}
	@include w1000 {
		width: $full;
		// background-color: red;
	}
}

.cap-3c-2g {
	width: 100%;
	max-width: ($column * 3) + ($gutter * 2);
}
.cap-6c-5g {
	width: 100%;
	max-width: ($column * 6) + ($gutter * 5);
}
.cap-6c-6g {
	width: 100%;
	max-width: ($column * 6) + ($gutter * 6);
}
.cap-7c-6g {
	width: 100%;
	max-width: ($column * 7) + ($gutter * 6);
}
.cap-8c-7g {
	width: 100%;
	max-width: ($column * 8) + ($gutter * 7);
}

header {
	width: 100%;
	color: $black;
	// padding: 0.578125em 0;
	position: fixed;
	top: 0;
	z-index: 100;
	box-shadow: 0 0 0.325em 0 rgba($black, 0);
	transition: box-shadow 0.25s ease;

	font-size: 112.5%;
	@include w480  { font-size: 106.25%; }
	@include w640  { font-size: 103.125%; }
	@include w1000 { font-size: 100%; }

	&.scrolled {
		box-shadow: 0 0 0.325em 0 rgba($black, 0.3);
		nav ul li.active {
			a {
				color: $dark-blue;
				border-bottom-width: 0.25em;
			}
		}
		.menu-mobile nav ul li {
			&.active {
				a {
					color: $blue;
					border-color: $blue;
				}
			}
		}
	}
	.main-header {
		position: relative;
		z-index: 90;
		background: $white;
		> .container {
			display: flex;
			align-items: center;
			justify-content: space-between;
			height: 2.78125em;
		}
	}
	.logo {
		figcaption {
			font-weight: $bold;
			text-transform: lowercase;
			margin-top: 0.25em;
		}
		@include w640 {
			height: 2.78125em;
			width: 2.78125em;
			background-color: $blue;
			color: transparent;
			overflow: hidden;
			display: flex;
			align-items: center;
			justify-content: center;
			figure {
				height: 0.96875em;
				width: 1.0625em;
				margin: 0 0.09375em 0.09375em 0;
				display: flex;
				border: 1.5px solid $black;
				.icon {
				}
				figcaption {
					position: absolute;
					pointer-events: none;
				}
			}
		}
	}
	.menu-desktop {
		margin-right: 0.346875em;

		width: calc(100% - 4.5em);
		max-width: 30em;
		@include w1000 {
			width: calc(100% - 13.5em);
			max-width: none;
		}
		nav {
			display: none;
			@include w640 {
				display: block;
			}
		}
	}
	nav {
		width: 100%;
		ul {
			display: flex;
			justify-content: space-between;
			height: 2.78125em;
			// background-color: $black;
			li {
				display: flex;
				a {
					font-size: 0.75em;
					font-weight: $medium;
					color: rgba($black, 0.9);
					padding: 0 0.30625em;
					margin: 0 0.09375em;
					line-height: 3.75;
					text-transform: lowercase;
					letter-spacing: 0;
					transition: border-bottom-width 0.25s ease;
					border-bottom: 0 solid #0096BE; // ‘medium blue’ used only here
				}
			}
		}
	}
	.menu-mobile {
		position: absolute;
		z-index: 80;
		background-color: $black;
		width: 100%;
		overflow: hidden;
		pointer-events: none;
		transform: translateY(-3.5em);
		transition: transform 0.25s ease;
		@include w640 {
			display: none;
		}
		nav ul {
			height: 2.78125em;
			li {
				a {
					color: rgba($white, 0.9);
					padding: 0 0.4125em;

					font-size: 0.75em;
					line-height: 3.625;
					@media screen and (min-width: 360px) {
						font-size: 0.8125em;
						line-height: 3.5;
					}
				}
			}
		}
	}
	.menu-toggle-mobile {
		font-size: 0.8125em;
		font-weight: $medium;
		background-color: $light-blue;
		color: $dark-blue;
		text-transform: lowercase;
		display: block;
		padding: 0.5625em;
		line-height: 1.25;
		border-radius: 0.171875em;
		flex-shrink: 0;
		@include w640 {
			display: none;
		}
		figure {
			display: flex;
			align-items: center;
			justify-content: space-between;
		}
		figcaption {
			position: relative;
			top: 0.0275em;
			flex-shrink: 0;
		}
		.icon {
			height: 1em;
			width: 1em;
			position: relative;
			flex-shrink: 0;
			text-align: right;
			margin-left: 0.5em;
			span {
				display: block;
				position: absolute;
				font-size: 1.875em;
				top: -0.2875em;
				font-weight: $medium;
				transform: rotate(0deg);
				transition:
					transform 0.25s ease,
					top 0.25s ease,
					left 0.25s ease;
			}
		}
	}
}
body.show-menu-mobile {
	.menu-mobile {
		transform: translateY(0);
		pointer-events: auto;
	}
	.menu-toggle-mobile .icon span {
		transform: rotate(45deg);
		left: -0.5px;
	}
}
body.archive-view header {
	&:after {
		content: "";
		display: block;
		height: 1px;
		width: 100%;
		position: fixed;
		background-color: transparent;
		transition: background-color 0.25s ease;
	}
	&:not(.scrolled) {
		&:after {
			background-color: $gray;
		}
	}
}
body:not(.home) nav li {
	&.current_page_item, &.current_page_parent {
		a {
			color: $dark-blue;
			border-bottom-width: 0.25em;
		}
	}
}

body.archive-view, body.single {
	.menu-mobile nav li.menu-item-blog {
		a {
			color: $blue;
			border-color: $blue;
			border-bottom-width: 0.25em;
		}
	}
}


.contact-form {
	input.error, textarea.error {
		border:1px solid red!important;
	}
	.error {
		color: red!important;
	}

	/*When form is submitted, button is disabled so users won't press it while
	ajax completes*/
	input[disabled] {
    color: black;
		background-color: #DCDAD1;
    padding: 2px;
    margin: 0 0 0 0;
    background-image: none;
	}
}

footer {
	.main-footer {
		padding: 2em 0 1.875em;
		background-color: #103B48; // ‘extra dark blue’ used only here
		h3 {
			font-size: 1em;
			font-weight: $bold;
			margin-bottom: 0.5em;
			letter-spacing: -(0.3em/18);
		}
		.container {
			display: flex;
			justify-content: space-between;
			.info {
				h2 {
					color: $white;
					font-size: 2.125em;
					margin-bottom: 0.1875em;
				}
				h5 {
					font-size: 0.75em;
					letter-spacing: -(0.3em/18);
					margin-bottom: 0.9375em;
				}
				nav {
					margin-bottom: 1.78175em;
					ul {
						column-count: 2;
						column-gap: 0;
						column-rule-width: 0;
						column-width: ($column * 1.5);
						li {
							// background-color: $gray;
							width: 100%;
						}
						a {
							text-transform: lowercase;
							font-weight: $medium;
							display: block;
							line-height: 1.5625;
							font-size: 0.875em;
						}
					}
				}
				.post-embed {
					margin-bottom: 1.765625em;
					p {
						font-size: 0.875em;
						line-height: 1.25;
						margin-bottom: 0.59375em;
					}
					a {
						display: block;
						font-size: 0.875em;
						line-height: 1;
						text-transform: lowercase;
						font-weight: $medium;

					}
				}
				.info-action {
					&:nth-last-child(n+2) {
						margin-bottom: 1.84375em;
					}
					h3 {
						margin-bottom: 0.325em;
					}
					.button-twitter {
						div {
							display: flex;
							align-items: center;
						}
						figure {
							height: 1.0625em;
							width: 1.325em;
							background-color: $white;
							position: relative;
							margin-bottom: 1px;
							bottom: 1px;
							right: 2px;
							margin-right: 5px;
						}
						span {
							font-size: 0.875em;
						}
					}
				}
			}
			.contact {
				order: 2;
				width: 100%;
				max-width: calc(100% - ((((1em * (((800 - (20 * 8)) / 9) / 18)) * 3) + ((1em * (20 / 18)) * 2)) + 2.5625em));

				//Footer form submission styles
				blockquote.contact-form-submission {
					border-left: 3px solid #3DC5F3;
					color: white;
				}

				padding-top: 0.325em;
				.contact-info {
					display: flex;
					justify-content: space-between;
					align-items: center;
					margin-top: 1.0625em;
					h3 {
						position: relative;
						top: 0.1875em;
					}
					p {
						font-size: 0.875em;
						line-height: 1.5625;
						letter-spacing: -(0.535em/18);
					}
					figure {
						width: calc(100% - 13.78125em);
						background-color: #BABDC3;
						padding-top: 20.325%;
					}
				}
			}
		}
	}
	.sub-footer {
		background-color: $blue;
		.container {
			height: 2.36875em;
			display: flex;
			align-items: center;
			justify-content: space-between;
			div {
				margin-top: 0.15625em;
				font-size: 0.78125em;
				text-transform: lowercase;
			}
		}
	}
}

section {
	background-color: $white;
	color: $black;
	padding: 4.390625em 0;
}
